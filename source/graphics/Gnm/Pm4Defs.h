
//https://www.amd.com/content/dam/amd/en/documents/radeon-tech-docs/programmer-references/si_programming_guide_v2.pdf


#define PM4_HEADER_BUILD(lenDw, op, priv) (((uint32_t)(((((uint16_t)lenDw) << 16) + 0x3FFE0000) | 0xC0000000)) | ((uint8_t)(op)) << 8 | ((uint8_t)(priv)))

#define IT_NOP                                0x00000010
#define IT_SET_BASE                           0x00000011
#define IT_CLEAR_STATE                        0x00000012
#define IT_INDEX_BUFFER_SIZE                  0x00000013
#define IT_DISPATCH_DIRECT                    0x00000015
#define IT_DISPATCH_INDIRECT                  0x00000016
#define IT_INDIRECT_BUFFER_END                0x00000017
#define IT_INDIRECT_BUFFER_CNST_END           0x00000019
#define IT_ATOMIC_GDS                         0x0000001d
#define IT_ATOMIC_MEM                         0x0000001e
#define IT_OCCLUSION_QUERY                    0x0000001f
#define IT_SET_PREDICATION                    0x00000020
#define IT_REG_RMW                            0x00000021
#define IT_COND_EXEC                          0x00000022
#define IT_PRED_EXEC                          0x00000023
#define IT_DRAW_INDIRECT                      0x00000024
#define IT_DRAW_INDEX_INDIRECT                0x00000025
#define IT_INDEX_BASE                         0x00000026
#define IT_DRAW_INDEX_2                       0x00000027
#define IT_CONTEXT_CONTROL                    0x00000028
#define IT_INDEX_TYPE                         0x0000002a
#define IT_DRAW_INDIRECT_MULTI                0x0000002c
#define IT_DRAW_INDEX_AUTO                    0x0000002d
#define IT_NUM_INSTANCES                      0x0000002f
#define IT_DRAW_INDEX_MULTI_AUTO              0x00000030
#define IT_INDIRECT_BUFFER_PRIV               0x00000032
#define IT_INDIRECT_BUFFER_CNST               0x00000033
#define IT_COND_INDIRECT_BUFFER_CNST          0x00000033
#define IT_STRMOUT_BUFFER_UPDATE              0x00000034
#define IT_DRAW_INDEX_OFFSET_2                0x00000035
#define IT_DRAW_PREAMBLE                      0x00000036
#define IT_WRITE_DATA                         0x00000037
#define IT_DRAW_INDEX_INDIRECT_MULTI          0x00000038
#define IT_MEM_SEMAPHORE                      0x00000039
#define IT_DRAW_INDEX_MULTI_INST              0x0000003a
#define IT_COPY_DW                            0x0000003b
#define IT_WAIT_REG_MEM                       0x0000003c
#define IT_INDIRECT_BUFFER                    0x0000003f
#define IT_COND_INDIRECT_BUFFER               0x0000003f
#define IT_COPY_DATA                          0x00000040
#define IT_CP_DMA                             0x00000041
#define IT_PFP_SYNC_ME                        0x00000042
#define IT_SURFACE_SYNC                       0x00000043
#define IT_ME_INITIALIZE                      0x00000044
#define IT_COND_WRITE                         0x00000045
#define IT_EVENT_WRITE                        0x00000046
#define IT_EVENT_WRITE_EOP                    0x00000047
#define IT_EVENT_WRITE_EOS                    0x00000048
#define IT_RELEASE_MEM                        0x00000049
#define IT_PREAMBLE_CNTL                      0x0000004a
#define IT_DRAW_RESERVED0                     0x0000004c
#define IT_DRAW_RESERVED1                     0x0000004d
#define IT_DRAW_RESERVED2                     0x0000004e
#define IT_DRAW_RESERVED3                     0x0000004f
#define IT_DMA_DATA                           0x00000050
#define IT_CONTEXT_REG_RMW                    0x00000051
#define IT_GFX_CNTX_UPDATE                    0x00000052
#define IT_BLK_CNTX_UPDATE                    0x00000053
#define IT_INCR_UPDT_STATE                    0x00000055
#define IT_ACQUIRE_MEM                        0x00000058
#define IT_REWIND                             0x00000059
#define IT_INTERRUPT                          0x0000005a
#define IT_GEN_PDEPTE                         0x0000005b
#define IT_INDIRECT_BUFFER_PASID              0x0000005c
#define IT_PRIME_UTCL2                        0x0000005d
#define IT_LOAD_UCONFIG_REG                   0x0000005e
#define IT_LOAD_SH_REG                        0x0000005f
#define IT_LOAD_CONFIG_REG                    0x00000060
#define IT_LOAD_CONTEXT_REG                   0x00000061
#define IT_LOAD_COMPUTE_STATE                 0x00000062
#define IT_LOAD_SH_REG_INDEX                  0x00000063
#define IT_SET_CONFIG_REG                     0x00000068
#define IT_SET_CONTEXT_REG                    0x00000069
#define IT_SET_CONTEXT_REG_INDEX              0x0000006a
#define IT_SET_VGPR_REG_DI_MULTI              0x00000071
#define IT_SET_SH_REG_DI                      0x00000072
#define IT_SET_CONTEXT_REG_INDIRECT           0x00000073
#define IT_SET_SH_REG_DI_MULTI                0x00000074
#define IT_GFX_PIPE_LOCK                      0x00000075
#define IT_SET_SH_REG                         0x00000076
#define IT_SET_SH_REG_OFFSET                  0x00000077
#define IT_SET_QUEUE_REG                      0x00000078
#define IT_SET_UCONFIG_REG                    0x00000079
#define IT_SET_UCONFIG_REG_INDEX              0x0000007a
#define IT_FORWARD_HEADER                     0x0000007c
#define IT_SCRATCH_RAM_WRITE                  0x0000007d
#define IT_SCRATCH_RAM_READ                   0x0000007e
#define IT_LOAD_CONST_RAM                     0x00000080
#define IT_WRITE_CONST_RAM                    0x00000081
#define IT_DUMP_CONST_RAM                     0x00000083
#define IT_INCREMENT_CE_COUNTER               0x00000084
#define IT_INCREMENT_DE_COUNTER               0x00000085
#define IT_WAIT_ON_CE_COUNTER                 0x00000086
#define IT_WAIT_ON_DE_COUNTER_DIFF            0x00000088
#define IT_SWITCH_BUFFER                      0x0000008b
#define IT_FRAME_CONTROL                      0x00000090
#define IT_INDEX_ATTRIBUTES_INDIRECT          0x00000091
#define IT_WAIT_REG_MEM64                     0x00000093
#define IT_COND_PREEMPT                       0x00000094
#define IT_HDP_FLUSH                          0x00000095
#define IT_INVALIDATE_TLBS                    0x00000098
#define IT_DMA_DATA_FILL_MULTI                0x0000009a
#define IT_SET_SH_REG_INDEX                   0x0000009b
#define IT_DRAW_INDIRECT_COUNT_MULTI          0x0000009c
#define IT_DRAW_INDEX_INDIRECT_COUNT_MULTI    0x0000009d
#define IT_DUMP_CONST_RAM_OFFSET              0x0000009e
#define IT_LOAD_CONTEXT_REG_INDEX             0x0000009f
#define IT_SET_RESOURCES                      0x000000a0
#define IT_MAP_PROCESS                        0x000000a1
#define IT_MAP_QUEUES                         0x000000a2
#define IT_UNMAP_QUEUES                       0x000000a3
#define IT_QUERY_STATUS                       0x000000a4
#define IT_RUN_LIST                           0x000000a5
#define IT_MAP_PROCESS_VM                     0x000000a6
#define IT_DISPATCH_DRAW_PREAMBLE__GFX09      0x0000008c
#define IT_DISPATCH_DRAW_PREAMBLE_ACE__GFX09  0x0000008c
#define IT_DISPATCH_DRAW__GFX09               0x0000008d
#define IT_DISPATCH_DRAW_ACE__GFX09           0x0000008d
#define IT_GET_LOD_STATS__GFX09               0x0000008e
#define IT_DRAW_MULTI_PREAMBLE__GFX09         0x0000008f
#define IT_AQL_PACKET__GFX09                  0x00000099
#define IT_DISPATCH_DRAW_PREAMBLE__GFX101     0x0000008c
#define IT_DISPATCH_DRAW_PREAMBLE_ACE__GFX101 0x0000008c
#define IT_DISPATCH_DRAW__GFX101              0x0000008d
#define IT_DISPATCH_DRAW_ACE__GFX101          0x0000008d
#define IT_DRAW_MULTI_PREAMBLE__GFX101        0x0000008f
#define IT_AQL_PACKET__GFX101                 0x00000099
#define IT_GNM_PRIVATE						  0x000000FF


#define OP_PRIV_INITIALIZE_DEFAULT_HARDWARE_STATE   0x00
#define OP_PRIV_INITIALIZE_TO_DEFAULT_CONTEXT_STATE 0x01
#define OP_PRIV_SET_EMBEDDED_VS_SHADER              0x02
#define OP_PRIV_SET_EMBEDDED_PS_SHADER              0x03
#define OP_PRIV_SET_VS_SHADER                       0x04
#define OP_PRIV_SET_PS_SHADER                       0x05
#define OP_PRIV_SET_ES_SHADER                       0x06
#define OP_PRIV_SET_GS_SHADER                       0x07
#define OP_PRIV_SET_HS_SHADER                       0x08
#define OP_PRIV_SET_LS_SHADER                       0x09
#define OP_PRIV_UPDATE_GS_SHADER                    0x0A
#define OP_PRIV_UPDATE_HS_SHADER                    0x0B
#define OP_PRIV_UPDATE_PS_SHADER                    0x0C
#define OP_PRIV_UPDATE_VS_SHADER                    0x0D
#define OP_PRIV_SET_VGT_CONTROL                     0x0E
#define OP_PRIV_RESET_VGT_CONTROL                   0x0F
#define OP_PRIV_DRAW_INDEX                          0x10
#define OP_PRIV_DRAW_INDEX_AUTO                     0x11
#define OP_PRIV_DRAW_INDEX_INDIRECT                 0x12
#define OP_PRIV_DRAW_INDEX_INDIRECT_COUNT_MULTI     0x13
#define OP_PRIV_DRAW_INDEX_MULTI_INSTANCED          0x14
#define OP_PRIV_DRAW_INDEX_OFFSET                   0x15
#define OP_PRIV_DRAW_INDIRECT                       0x16
#define OP_PRIV_DRAW_INDIRECT_COUNT_MULTI           0x17
#define OP_PRIV_DRAW_OPAQUE_AUTO                    0x18
#define OP_PRIV_WAIT_UNTIL_SAFE_FOR_RENDERING       0x19
#define OP_PRIV_PUSH_MARKER                         0x1A
#define OP_PRIV_PUSH_COLOR_MARKER                   0x1B
#define OP_PRIV_POP_MARKER                          0x1C
#define OP_PRIV_SET_MARKER                          0x1D
#define OP_PRIV_SET_CS_SHADER                       0x1E
#define OP_PRIV_DISPATCH_DIRECT                     0x1F
#define OP_PRIV_DISPATCH_INDIRECT                   0x20
#define OP_PRIV_COMPUTE_WAIT_ON_ADDRESS             0x21